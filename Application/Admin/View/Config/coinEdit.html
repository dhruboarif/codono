<include file="Public:header"/>
<div id="main-content">
    <div id="top-alert" class="fixed alert alert-error" style="display: none;">
        <button class="close fixed" style="margin-top: 4px;">&times;</button>
        <div class="alert-content">Warnings</div>
    </div>
    <div id="main" class="main">
        <div class="main-title-h">
            <span class="h1-title"><a href="{:U('Config/coin')}">Coin configuration</a> >></span>
            <span class="h1-title"><empty name="data">Add Coin<else/> Edit Coin</empty></span>

        </div>
        <div class="tab-wrap">

            <div class="tab-content">
                <form id="form" action="{:U('Config/coinEdit')}" method="post" class="form-horizontal"
                      enctype="multipart/form-data">
                    <div id="tab" class="tab-pane in tab">
                        <div class="form-item cf">
                            <table>

                                <tr class="controls">
                                    <td class="item-label">English abbreviation :</td>

                                    <empty name="data['name']">
                                        <td><input type="text" class="form-control input-10x" name="name" value=""></td>


                                        <else/>
                                        <input type="hidden" class="form-control input-10x" name="name" value="{$data.name}">
                                        <td>{$data.name}</td>

                                    </empty>

									<td class="item-note"><span class="glyphicon glyphicon-info-sign" title="Lowercase must be completed: but can not fill in keywords such as asc desc"></span></td>
                                </tr>


                                <tr class="controls">
                                    <td class="item-label">Symbol :</td>
                                    <td><input type="text" class="form-control input-10x" name="js_yw" value="{$data['js_yw']}">
                                    </td>

                                    <td class="item-note"></td>
                                </tr>
                                <tr class="controls">
                                    <td class="item-label">Frontend Title :</td>
                                    <td><input type="text" class="form-control input-10x" name="title" value="{$data['title']}">
                                    </td>

                                    <td class="item-note">Unique Title</td>
                                </tr>

								
								<eq name="codono_opencoin" value="1">
									<tr class="controls">
										<td class="item-label">Coin type:</td>
										<td><select name="type"  id="selectcointype" class="form-control input-10x">
											<option value="rgb"
											<eq name="data.type" value="rgb">selected</eq>
											>ICO Coin [No wallet]
											</option>
											<option value="qbb"
											<eq name="data.type" value="qbb">selected</eq>
											>Wallet Coin [Bitcoin]
											</option>
											<option value="eth"
											<eq name="data.type" value="eth">selected</eq>
											>Wallet Coin [Ethereum]
											</option>
											<option value="offline"
											<eq name="data.type" value="offline">selected</eq>
											>Offline Coin
											</option>
											<option value="blockio"
											<eq name="data.type" value="blockio">selected</eq>
											>Block.io
											</option>
											<option value="coinpay"
											<eq name="data.type" value="coinpay">selected</eq>
											>CoinPayments.net
											</option>
											<option value="waves"
											<eq name="data.type" value="waves">selected</eq>
											>WavesPlatform
											</option>
											<option value="cryptonote"
											<eq name="data.type" value="cryptonote">selected</eq>
											>CryptoNote[Monero]
											</option>
										</select></td>
										<td class="item-note"><span id="HelpLink"></td>
									</tr>
								<else/>
									<input type="hidden" name="type" value="rgb" />
								</eq>
								

                                <tr class="controls">
                                    <td class="item-label">Image :</td>
                                    <td>
                                        <div id="addpicContainer">
                                            <!-- Use multiple="multiple"Property implementation Add to More map features -->
                                            <!-- position: absolute;left: 10px;top: 5px;Only for thisuseThe casesinputHidden toimageunder.-->
                                            <!-- height:0;width:0;z-index: -1;In order to hideinput,becauseChromeYou can not use lowerdisplay:noneOtherwise, notAdd tofile -->
                                            <!-- onclick="getElementById('inputfile').click()" Click onimageWhen click onAdd tofilePush button -->
                                            <notempty name="data.img">
                                                <!--Noimagedisplaydefaultimage-->
                                                <img id="up_img" onclick="getElementById('inputfile').click()" style="cursor:pointer;max-width:500px;" title="Click Add Picture" alt="Click Add Picture" src="/Upload/coin/{$data.img}">
                                                <else/>
                                                <!--Noimagedisplaydefaultimage-->
                                                <img id="up_img" onclick="getElementById('inputfile').click()" style="cursor:pointer;max-width:500px;" title="Click Add Picture" alt="Click Add Picture" src="__PUBLIC__/Admin/images/addimg.png">
                                            </notempty>
                                            <input type="hidden" id="img" name="img" value="{$data.img}">
                                            <input type="file" id="inputfile" style="height:0;width:0;z-index: -1; position: absolute;left: 10px;top: 5px;" value=""/>
                                        </div>
                                    </td>
                                    <td class="item-note">80px*80px</td>
                                </tr>

								
								<eq name="codono_opencoin" value="1">
								
									<tr class="controls">
										<td class="item-label"><span id="wsi">Wallet Server IP :</span></td>
										<td><input type="text" class="form-control input-10x" name="dj_zj" value="{$data['dj_zj']}">
										</td>

										<td class="item-note"><span id="wsih">No need to fill in the type of ICO COIN.</span></td>
									</tr>
									<tr class="controls">
										<td class="item-label"><span id="wsp">Wallet Server Port :</span></td>
										<td><input type="text" class="form-control input-10x" name="dj_dk" value="{$data['dj_dk']}">
										</td>

										<td class="item-note"><span id="wsph">No need to fill in the type of ICO COIN.</span></td>
									</tr>
									<tr class="controls">
										<td class="item-label"><span id="wsu">Server Username :</span></td>
										<td><input type="text" class="form-control input-10x" name="dj_yh" value="{$data['dj_yh']}" autocomplete="off" aria-autocomplete="none">
										</td>

										<td class="item-note"><span id="wsuh">No need to fill in the type of ICO COIN.</span></td>
									</tr>
									<tr class="controls">
										<td class="item-label"><span id="wpw">Wallet Server password:</span></td>
										<td><input type="password" class="form-control input-10x" name="dj_mm"
												   value=""  autocomplete="off" placeholder="Password is not displayed" aria-autocomplete="none"></td>

										<td class="item-note"><span id="wpwh">No need to fill in the type of ICO COIN.</span></td>
									</tr>
								</eq>
								<tr class="controls">
									<td class="item-label"><span id="owa">Official Wallet Address</span>:</td>
									<td><input type="text" class="form-control input-10x" name="codono_coinaddress" value="{$data['codono_coinaddress']}"></td>

									
									<td class="item-note" ><span id="owh">For Offline Coins: <span class="glyphicon glyphicon-info-sign" title="[Important]*Applicable When 1.Type:Offline 2.Docking is off[In codono.json codono_opencoin=0].3.Ethereum main account"></span></span></td>
								</tr>
								  <tr class="controls">
                                    <td class="item-label">Block Explorer :</td>
                                    <td><input type="text" class="form-control input-10x" name="js_wk" value="{$data['js_wk']}">
                                    </td>
                                    <td class="item-note">Example https://testnet.wavesexplorer.com/tx/</td>
                                </tr>
									 <tr class="controls">
                                    <td class="item-label"><span id="wavedecimal">Decimal Places</span>:</td>
                                    <td><input type="text" class="form-control input-10x" name="cs_qk" value="{$data['cs_qk']}">
                                    </td>
                                    <td class="item-note"><span id="wavedecimal_hint">Number of decimals in coin/token</span></td>
                                </tr>
                                <tr class="controls">
                                    <td class="item-label">List ratio :</td>
                                    <td><input type="text" class="form-control input-10x" name="fee_bili" value="{$data['fee_bili']}"  placeholder="Caution While Using">
                                    </td>

                                    <td class="item-note">% can only be listed in the current account</td>
                                </tr>

                                <tr class="controls">
                                    <td class="item-label">Most sell today :</td>
                                    <td><input type="text" class="form-control input-10x" name="fee_meitian" value="{$data['fee_meitian']}" placeholder="Caution While Using">
                                    </td>
                                    <td class="item-note">%, can only sell 100% of account balance today</td>
                                </tr>



<!--
                                <tr class="controls">
                                    <td class="item-label">Deposit Bonus:</td>
                                    <td><input type="text" class="form-control input-10x" name="zr_zs" value="{$data['zr_zs']}" placeholder="Keep blank, If dont know"></td>

                                    <td class="item-note">% Deposit Bonus from 0.01 to 100 [This is in percent]</td>
                                </tr>
-->
                                <tr class="controls">
                                    <td class="item-label">Deposits :</td>
                                    <td>
                                        <empty name="data['zr_jz']">
                                                <select name="zr_jz" class="form-control input-10x" >
                                                    <option value="1"<eq name="data['zr_jz']" value="1">selected</eq>>Normal transfer</option>
                                                    <option value="0"<eq name="data['zr_jz']" value="0">selected</eq>>Prohibit transfer</option>
                                                </select>
                                            <else />
                                                <select name="zr_jz" class="form-control input-10x" >
                                                    <option value="1"<eq name="data['zr_jz']" value="1">selected</eq>>Normal transfer</option>
                                                    <option value="0"<eq name="data['zr_jz']" value="0">selected</eq>>Prohibit transfer</option>
                                                </select>
                                        </empty>
                                    </td>
                                    <td class="item-note"></td>
                                </tr>

							<eq name="codono_opencoin" value="1">
								
                                <tr class="controls">
                                    <td class="item-label">Confirmation number :</td>
                                    <td>
                                        <empty name="data['zr_dz']">
                                                <input type="text" class="form-control input-10x" name="zr_dz" value="1">
                                            <else />
                                                <input type="text" class="form-control input-10x" name="zr_dz" value="{$data['zr_dz']}">
                                        </empty>
                                    </td>
									<td class="item-note"><span class="glyphicon glyphicon-info-sign" title="Withdraw Confirmation number have to fill in,And greater than 0"></span></td>
                                </tr>
							</eq>	
							
                                <tr class="controls">
                                    <td class="item-label">Transfer fee :</td>
                                    <td><input type="text" class="form-control input-10x" name="zc_fee" value="{$data['zc_fee']}"></td>

                                    <td class="item-note" title="% (fill in 0.01-100 any number) Transfer the commission fee, the fee will be directly deposited into the official fee address"><span class="glyphicon glyphicon-info-sign"></span></td>
                                </tr>

                                
                                <empty name="data['name']">
                                        <tr class="controls">
                                            <td class="item-label">Official fee address*:</td>
                                            <td><input type="text" class="form-control input-10x" name="zc_user" value="0" readonly></td>
                                            <td class="item-note" title="[Important][New Coin can not operate]If you want to charge the handling fee, after copying successfully, copy the official account corresponding to the local Coin address, re-edit the local Coin, fill in the place"><span class="glyphicon glyphicon-info-sign"></span></td>
                                        </tr>
                                    <else/>
                                        <tr class="controls">
                                            <td class="item-label">Official fee address*:</td>
                                            <td><input type="text" class="form-control input-10x" name="zc_user" value="{$data['zc_user']}"></td>

                                            <td class="item-note" title="[Important]Please fill in the local Coin address generated by an official front desk account to the local office as a handling fee (receive|deduct) account, otherwise the fee ratio setting is invalid."><span class="glyphicon glyphicon-info-sign"></span></td>
                                        </tr>
                                </empty>
							<tr class="controls">
                                    <td class="item-label">Min Withdrawal Amt:</td>
                                    <td>
                                        <empty name="data['zc_min']">
                                            <input type="text" class="form-control input-10x" name="zc_min" value="0.01">
                                            <else />
                                            <input type="text" class="form-control input-10x" name="zc_min" value="{$data['zc_min']}">
                                        </empty>
                                    <td class="item-note">Recommend:Positive and greater than 0.01</td>
                                </tr>
                                <tr class="controls">
                                    <td class="item-label">Max Withdrawal Amt :</td>
                                    <td>
                                        <empty name="data['zc_max']">
                                            <input type="text" class="form-control input-10x" name="zc_max" value="10000">
                                            <else />
                                            <input type="text" class="form-control input-10x" name="zc_max" value="{$data['zc_max']}">
                                        </empty>
                                    <td class="item-note">Recommend:Positive and greater than 10000</td>
                                </tr>

                                <tr class="controls">
                                    <td class="item-label">Withdrawal Status :</td>
                                    <td><select name="zc_jz" class="form-control input-10x">
                                        <option value="1"<eq name="data['zc_jz']" value="1">selected</eq>>Enabled</option>
                                        <option value="0"<eq name="data['zc_jz']" value="0">selected</eq>>Disabled</option>
                                    </select></td>
                                    <td class="item-note">Enable/Disable withdrawal</td>
                                </tr>
                                <tr class="controls">
                                    <td class="item-label">Automatic Withdrawal :</td>
                                    <td>
                                        <empty name="data['zc_zd']">
                                                <input type="text" class="form-control input-10x" name="zc_zd" value="10">
                                            <else />
                                                <input type="text" class="form-control input-10x" name="zc_zd" value="{$data['zc_zd']}">
                                        </empty>
                                    </td>
					<td class="item-note"><span class="glyphicon glyphicon-info-sign" title="Recommend:Positive and greater than 10 (Less than This More Automatic Number Withdraw,Greater than this More number Rear Desk review )in order to Safety Do not set too large"></span></td>
                                </tr>


                                <!--<tr class="controls">-->
                                    <!--<td class="item-label">Transfer instructions :</td>-->
                                    <!--<td><textarea name="zr_sm">{$data.zr_sm}</textarea></td>-->
                                    <!--<td class="item-note"></td>-->
                                <!--</tr>-->
                                <!--<tr class="controls">-->
                                    <!--<td class="item-label">Out Description :</td>-->
                                    <!--<td><textarea name="zc_sm">{$data.zc_sm}</textarea></td>-->
                                    <!--<td class="item-note"></td>-->
                                <!--</tr>-->


                                <tr class="controls">
                                    <td class="item-label">Details:</td>
                                    <td><textarea name="js_sm" class="form-control input-10x">{$data.js_sm}</textarea></td>
                                    <td class="item-note"></td>
                                </tr>


                                <tr class="controls">
                                    <td class="item-label">Download wallet :</td>
                                    <td><input type="text" class="form-control input-10x" name="js_qb" value="{$data['js_qb']}">
                                    </td>

                                    <td class="item-note"></td>
                                </tr>
                                <tr class="controls">
                                    <td class="item-label">Source download :</td>
                                    <td><input type="text" class="form-control input-10x" name="js_ym" value="{$data['js_ym']}">
                                    </td>

                                    <td class="item-note"></td>
                                </tr>
                                <tr class="controls">
                                    <td class="item-label">Official Link :</td>
                                    <td><input type="text" class="form-control input-10x" name="js_gw" value="{$data['js_gw']}">
                                    </td>

                                    <td class="item-note"></td>
                                </tr>
                                <tr class="controls">
                                    <td class="item-label">Official Forums :</td>
                                    <td><input type="text" class="form-control input-10x" name="js_lt" value="{$data['js_lt']}">
                                    </td>

                                    <td class="item-note"></td>
                                </tr>

                                <tr class="controls">
                                    <td class="item-label">Developers :</td>
                                    <td><input type="text" class="form-control input-10x" name="cs_yf" value="{$data['cs_yf']}">
                                    </td>
                                    <td class="item-note"></td>
                                </tr>
                                <tr class="controls">
                                    <td class="item-label">Core algorithm:</td>
                                    <td><input type="text" class="form-control input-10x" name="cs_sf" value="{$data['cs_sf']}">
                                    </td>
                                    <td class="item-note"></td>
                                </tr>
                                <tr class="controls">
                                    <td class="item-label">Release date :</td>
                                    <td><input type="text" class="form-control input-10x" name="cs_fb" value="{$data['cs_fb']}">
                                    </td>
                                    <td class="item-note"></td>
                                </tr>
                                <tr class="controls">
                                    <td class="item-label">Proof Method :</td>
                                    <td><input type="text" class="form-control input-10x" name="cs_zm" value="{$data['cs_zm']}">
                                    </td>
                                    <td class="item-note"></td>
                                </tr>

                                <tr class="controls">
                                    <td class="item-label">Total issued :</td>
                                    <td><input type="text" class="form-control input-10x" name="cs_zl" value="{$data['cs_zl']}">
                                    </td>
                                    <td class="item-note"></td>
                                </tr>

                                <tr class="controls">
                                    <td class="item-label">Stock :</td>
                                    <td><input type="text" class="form-control input-10x" name="cs_cl" value="{$data['cs_cl']}">
                                    </td>
                                    <td class="item-note"></td>
                                </tr>
                                <tr class="controls">
                                    <td class="item-label">Difficulty adjustment :</td>
                                    <td><input type="text" class="form-control input-10x" name="cs_nd" value="{$data['cs_nd']}">
                                    </td>
                                    <td class="item-note"></td>
                                </tr>
                                <tr class="controls">
                                    <td class="item-label">Block award :</td>
                                    <td><input type="text" class="form-control input-10x" name="cs_jl" value="{$data['cs_jl']}">
                                    </td>
                                    <td class="item-note"></td>
                                </tr>
                                <tr class="controls">
                                    <td class="item-label">Key Features :</td>
                                    <td><input type="text" class="form-control input-10x" name="cs_ts" value="{$data['cs_ts']}">
                                    </td>
                                    <td class="item-note"></td>
                                </tr>
                                <tr class="controls">
                                    <td class="item-label">ShortComings :</td>
                                    <td><input type="text" class="form-control input-10x" name="cs_bz" value="{$data['cs_bz']}">
                                    </td>
                                    <td class="item-note"></td>
                                </tr>


                                <tr class="controls">
                                    <td class="item-label"></td>
                                    <td>
                                        <div class="form-item cf">
                                            <button class="btn submit-btn ajax-post" id="submit" type="submit" target-form="form-horizontal">Submit</button>
                                            <a class="btn btn-return" href="{$Think.server.HTTP_REFERER}">Back</a>
                                            <notempty name="data.id"><input type="hidden" name="id" value="{$data.id}"/>
                                            </notempty>
                                        </div>
                                    </td>
                                </tr>

                            </table>
                        </div>
                    </div>
                </form>
                <script type="text/javascript">
                    //submit Form
                    $('#submit').click(function () {
                        $('#form').submit();
                    });
                </script>
            </div>
        </div>
    </div>
</div>
<script type="text/javascript">
CoinSelectHint('{$data.type}');
function CoinSelectHint(cointype){
	if(cointype=='coinpay')
{
	$('#wsi').html('Coinpay Merchantid:');
	$('#wsp').html('Coinpay IPN Secret:');
	$('#wsu').html('Coinpay Public Key:');
	$('#wpw').html('Coinpay Private Key:');
	$('#HelpLink').html('<a href="https://gocps.net/sfg1npk1ybfzj3ij3u26i7kgj94l" target="_blank">Don\'t have CoinPayments accont?</a>');
}
else if(cointype=='cryptonote')
{
	var assetid_inserted=$( "input[name='dj_yh']" ).val();
	$('#wsi').html('CryptoNote IP:');
	$('#wsih').html('example:123.123.123.123');
	$('#wsp').html('CryptoNote RPC Port:');
	$('#wsph').html('Example:19092');
	$('#wsu').html('Wallet User:');
	$('#wsuh').html('Wallet Username or <a href="{:U('CryptoNote/test?coin='.$data['name'])}" target="_blank">ReadHere</a>');
	$('#wpw').html('Wallet Password:');
	$('#wpwh').html('PlainText');
	$('#owa').html('CryptoNote Main Account');
	$('#owh').html('Not required :Optional');
	$('#wavedecimal').html('Decimal Places');
	$('#wavedecimal_hint').html('It is usually not required for Cryptonote');
	$('#HelpLink').html('<a href="https://codono.com" target="_blank">Help</a>');
}
else if(cointype=='waves')
{
	var assetid_inserted=$( "input[name='dj_yh']" ).val();
	$('#wsi').html('Waves Platform URL:');
	$('#wsih').html('example:http://123.123.123.123:6869');
	$('#wsp').html('Waves Port:');
	$('#wsph').html('Example:6869');
	$('#wsu').html('Asset id:');
	$('#wsuh').html('Leave Bank in case of Waves');
	$('#wpw').html('Waves API Key:');
	$('#wpwh').html('PlainText');
	$('#owa').html('Waves Main Account');
	$('#owh').html('All deposits will be transfered here after deposit');
	$('#wavedecimal').html('Waves Assets Decimal Places');
	$('#wavedecimal_hint').html('User For Assets : Number of Decimals <a href="http://dev.pywaves.org/assets/'+assetid_inserted+'">Info</a>');
	$('#HelpLink').html('<a href="https://docs.wavesplatform.com/en/development-and-api/waves-node-rest-api.html" target="_blank">API DOC</a>');
}
else if(cointype=='blockio'){
	$('#wsi').html('Leave Blank:');
	$('#wsp').html('Leave Blank:');
	$('#wsu').html('BlockIO API Key:');
	$('#wpw').html('BlockIO PIN:');
	$('#HelpLink').html('<a href="https://block.io" target="_blank">Don\'t have Block.io accont?</a>');
}else if(cointype=='eth'){
	$('#owa').html('Main Account');
	$('#owh').html('All deposits will be transfered here');
	//$('#wsu').html('BlockIO API Key:');
	//$('#wpw').html('BlockIO PIN:');
	$('#HelpLink').html('<blink>Deposits are automatically transferred</blink> to <a href="#owh">Main account</a>');
}
else{
	$('#wsi').html('Wallet Server IP:');
	$('#wsp').html('Wallet Server Port:');
	$('#wsu').html('Wallet Server Username:');
	$('#wpw').html('Wallet Server Password:');
}

}
    $(document).ready(function () {
	
	$('#selectcointype').on('change', function() {
	CoinSelectHint(this.value);
	});
        //The response fileAdd tosuccessevent
        $("#inputfile").change(function () {
            //createFormDataObjects
            var data = new FormData();
            //forFormDataAdding Data Object
            $.each($('#inputfile')[0].files, function (i, file) {
                data.append('upload_file' + i, file);
            });


            //send data
            $.ajax({
                url: '/Admin/Config/coinImage',
                type: 'POST',
                data: data,
                cache: false,
                contentType: false,		//Essential parameters
                processData: false,		//Essential parameters
                success: function (data) {
                    if (data) {
                        $('#up_img').attr("src", '/Upload/coin/' + data);
                        $('#img').val(data);
                        $('#up_img').show();
                    }
                },
                error: function () {
                    alert('Upload error');
                    $(".loading").hide();	//plus Upload failed shift except plus Load image
                }
            });

        });
    });
</script>
<script type="text/javascript" src="__PUBLIC__/kindeditor/kindeditor-min.js"></script>
<script type="text/javascript">
    var editor;
    KindEditor.ready(function (K) {
        editor = K.create('textarea', {
            width: '500px',
            height: '100px',
            items: ['source', 'fontname', 'fontsize', '|', 'forecolor', 'hilitecolor', 'bold', 'italic', 'underline', 'removeformat', '|', 'justifyleft', 'justifycenter', 'justifyright', 'insertorderedlist', 'insertunorderedlist', '|', 'emoticons', 'link', 'fullscreen'],
            afterBlur: function () {
                this.sync();
            }
        });
    });
</script>
<include file="Public:footer"/>
<block name="script">
    <script type="text/javascript" charset="utf-8">
        //Highlight navigation
        highlight_subnav("{:U('Config/coin')}");
    </script>
</block>